<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js" type="text/javascript" charset="utf-8"></script>
    <script src="class.js" type="text/javascript" charset="utf-8"></script>
    <script src="grid.js" type="text/javascript" charset="utf-8"></script>
    <script src="square.js" type="text/javascript" charset="utf-8"></script>
    <script src="block_fall.js" type="text/javascript" charset="utf-8"></script>
    <title>Game</title>
  </head>
  <body>
    <script type="text/javascript">
      var game_engine = new window.BlockFall();

(function() {
  var onEachFrame;
  if (window.webkitRequestAnimationFrame) {
    onEachFrame = function(cb) {
      var _cb = function() { cb(); webkitRequestAnimationFrame(_cb); }
      _cb();
    };
  } else if (window.mozRequestAnimationFrame) {
    onEachFrame = function(cb) {
      var _cb = function() { cb(); mozRequestAnimationFrame(_cb); }
      _cb();
    };
  } else {
    onEachFrame = function(cb) {
      setInterval(cb, 1000 / 60);
    }
  }
  
  window.onEachFrame = onEachFrame;
})();

window.onEachFrame(function() {game_engine.drawScreen(); game_engine.createSquare(); game_engine.update()});



    </script>
  </body>
</html>
